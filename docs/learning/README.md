# Обучающая документация Network Collector

## Для кого

Ты -- сетевой инженер, который знает основы Python на уровне книги Мэтью Мэтиза (или аналогичной). Ты уже умеешь:

- Создавать переменные и работать с типами данных (строки, числа, списки, словари)
- Писать циклы `for` и `while`
- Создавать функции с `def`
- Создавать простые классы с `__init__` и методами

Этого достаточно, чтобы читать код проекта. Но в Network Collector используются продвинутые возможности Python, которые в базовых книгах обычно не разбирают. Эта серия документов объяснит их простым языком, с примерами прямо из кода проекта.

## Что нужно знать заранее

Убедись, что ты понимаешь:

| Тема | Пример | Где из книги |
|------|--------|--------------|
| Переменные | `name = "switch-01"` | Глава 2-3 |
| Списки | `devices = ["sw1", "sw2", "sw3"]` | Глава 4-5 |
| Словари | `device = {"name": "sw1", "ip": "10.0.0.1"}` | Глава 5-6 |
| Циклы for | `for d in devices: print(d)` | Глава 4-5 |
| Функции | `def connect(host): ...` | Глава 7-8 |
| Классы | `class Switch: def __init__(self): ...` | Глава 9-10 |

Если что-то из этого непонятно -- сначала повтори по книге, потом возвращайся.

## Порядок чтения

Документы пронумерованы. Читай последовательно -- каждый следующий опирается на предыдущие.

| # | Документ | Что узнаешь | Время |
|---|----------|-------------|-------|
| 01 | [Python-концепции в проекте](01_PYTHON_BASICS.md) | Словари, comprehensions, dataclass, type hints, наследование, mixin-классы, менеджеры контекста, обработка ошибок, модули, полезные паттерны | ~45 мин |
| 02 | [Обзор проекта](02_PROJECT_OVERVIEW.md) | Зачем нужен проект, что такое NetBox, архитектура и слои, структура папок, быстрый старт | ~20 мин |
| 03 | [CLI изнутри](03_CLI_INTERNALS.md) | Как работает CLI: argparse, маршрутизация команд, путь от ввода до результата, как добавить свою команду | ~30 мин |
| 04 | [Сбор данных](04_DATA_COLLECTION.md) | SSH-подключение (Scrapli), команды, TextFSM-парсинг, нормализация, модели данных | ~20 мин |
| 05 | [Синхронизация с NetBox](05_SYNC_NETBOX.md) | Mixin-архитектура, batch API, кэширование, dry_run, domain layer | ~35 мин |
| 06 | [Pipeline -- автоматизация](06_PIPELINE.md) | Pipeline: executor, auto-collect, cleanup, YAML конфиги | ~25 мин |
| 07 | [Потоки данных](07_DATA_FLOWS.md) | Полный путь данных: LLDP, MAC match, interfaces, IP, inventory | ~25 мин |
| 08 | [Web-архитектура](08_WEB_ARCHITECTURE.md) | FastAPI backend, Vue.js frontend, REST API, async mode | ~30 мин |
| 09 | [Mixins и архитектурные паттерны](09_MIXINS_PATTERNS.md) | Mixin-паттерн, composition vs DI, self: SyncBase, MRO, вопросы для собеседования | ~25 мин |

**Итого:** примерно 4-4.5 часа на всю серию.

## Глубокое изучение кода (Deep Dive)

После прочтения серии 01-09 ты понимаешь архитектуру и концепции. Документы 10-12 — это следующий уровень: разбор **каждого модуля строка за строкой**, с реальным кодом и трансформациями данных на каждом шаге.

| # | Документ | Что узнаешь | Время |
|---|----------|-------------|-------|
| 10 | [Collectors Deep Dive](10_COLLECTORS_DEEP_DIVE.md) | Полная цепочка сбора: CLI → BaseCollector → SSH → TextFSM → Normalizer → Exporter. Каждый коллектор, каждый нормализатор, каждый экспортер | ~60 мин |
| 11 | [Sync Deep Dive](11_SYNC_DEEP_DIVE.md) | Полная цепочка синхронизации: SyncComparator → SyncDiff → все 6 миксинов → batch API → NetBox. Все 11 _check_*() хелперов | ~60 мин |
| 12 | [Internals и Testing](12_INTERNALS_AND_TESTING.md) | Инфраструктура: Config система, constants пакет, иерархия исключений, RunContext, паттерны тестирования с MagicMock и pytest | ~45 мин |
| 13 | [Switchport Flow](13_SWITCHPORT_FLOW.md) | Полная цепочка определения switchport mode: SSH → TextFSM → нормализация → enrichment → NetBox sync. Три платформы (IOS, NX-OS, QTech), различия форматов, история бага | ~40 мин |

**Итого deep dive:** примерно 3-3.5 часа.

**Рекомендуемый порядок:** 10 → 11 → 12 → 13 (doc 10 вводит паттерны, которые используются в doc 11; doc 12 независимый, но ссылается на оба; doc 13 — глубокий разбор конкретного flow с историей бага).

## Как связана обучающая документация с официальной

В папке `docs/` есть основная документация проекта. Она написана для тех, кто уже понимает код и хочет быстро найти нужную информацию:

| Обучающий документ | Связанная документация |
|--------------------|----------------------|
| 01 Python-концепции | -- (базовые знания) |
| 02 Обзор проекта | [ARCHITECTURE.md](../ARCHITECTURE.md) -- полная архитектура |
| 03 CLI изнутри | [MANUAL.md](../MANUAL.md) -- полное руководство по CLI и командам |
| 04 Сбор данных | [PLATFORM_GUIDE.md](../PLATFORM_GUIDE.md) -- платформы, шаблоны, парсинг |
| 05 Синхронизация с NetBox | [ARCHITECTURE.md](../ARCHITECTURE.md) -- архитектура sync слоя |
| 06 Pipeline | [MANUAL.md](../MANUAL.md) -- руководство по использованию |
| 07 Потоки данных | [ARCHITECTURE.md](../ARCHITECTURE.md) -- поток данных между слоями |
| 08 Web-архитектура | [WEB_API.md](../WEB_API.md) -- REST API документация |
| 09 Mixins и паттерны | [TESTING.md](../TESTING.md) -- тестирование mixin-классов |
| 10 Collectors Deep Dive | [PLATFORM_GUIDE.md](../PLATFORM_GUIDE.md), [ARCHITECTURE.md](../ARCHITECTURE.md) |
| 11 Sync Deep Dive | [ARCHITECTURE.md](../ARCHITECTURE.md), [DEVELOPMENT.md](../DEVELOPMENT.md) |
| 12 Internals и Testing | [TESTING.md](../TESTING.md), [DEVELOPMENT.md](../DEVELOPMENT.md) |
| 13 Switchport Flow | [PLATFORM_GUIDE.md](../PLATFORM_GUIDE.md), [ARCHITECTURE.md](../ARCHITECTURE.md) |

**Рекомендация:** сначала прочитай обучающий документ, чтобы понять концепцию. Потом загляни в связанный документ из основной документации для полной картины.
