
ÐŸÑ€Ð¾Ð±Ð»ÐµÐ¼Ð° 1. 
Ð’Ð¾Ñ‚ Ð¸Ð½Ñ‚ÐµÑ€Ñ„ÐµÐ¹Ñ  {
      "Device": "SU-C9500-48Y4C-01",
      "Interface": "TwentyFiveGigE1/0/1",
      "Status": "up",
      "Protocol": "up (connected)",
      "Description": "---=== 6509 ===---",
      "IP Address": "",
      "Prefix": "",
      "MAC": "689e.0b1e.7d21",
      "MTU": "1500",
      "Speed": "10000000 Kbit",
      "Duplex": "Full-duplex",
      "Hardware Type": "Twenty Five Gigabit Ethernet",
      "Media Type": "SFP-10GBase-LR"
    },


Ð’  net box ÑÑ‚Ñ€Ð¾Ñ‡ÐºÐ° 2025-12-22 11:43:18 - INFO - [DRY-RUN] ÐžÐ±Ð½Ð¾Ð²Ð»ÐµÐ½Ð¸Ðµ Ð¸Ð½Ñ‚ÐµÑ€Ñ„ÐµÐ¹ÑÐ° TwentyFiveGigE1/0/1: {'type': '10gbase-x-sfpp'}

# ÐŸÐ¾Ñ€ÑÐ´Ð¾Ðº Ð²Ð°Ð¶ÐµÐ½! Ð‘Ð¾Ð»ÐµÐµ ÑÐ¿ÐµÑ†Ð¸Ñ„Ð¸Ñ‡Ð½Ñ‹Ðµ Ð¿Ð°Ñ‚Ñ‚ÐµÑ€Ð½Ñ‹ Ð´Ð¾Ð»Ð¶Ð½Ñ‹ Ð±Ñ‹Ñ‚ÑŒ Ð¿ÐµÑ€Ð²Ñ‹Ð¼Ð¸
NETBOX_INTERFACE_TYPE_MAP: Dict[str, str] = {

 === 10G ÐžÐ¿Ñ‚Ð¸ÐºÐ° ===
    "SFP-10GBase-LR": "10gbase-lr",  # SFP-10GBase-LR
    "sfp-10gbase-lr": "10gbase-lr",  # SFP-10GBase-LR

Ð”Ð¾Ð»Ð¶Ð½Ð¾ Ð±Ñ‹Ñ‚ÑŒ  SFP-10GBase-LR. ÐŸÐ¾Ñ‡ÐµÐ¼Ñƒ Ð½Ðµ Ð¾Ñ‚Ñ€Ð°Ð±Ð°Ñ‚Ñ‹Ð²Ð°ÐµÑ‚ Ð¿Ð¾ media type.

ÐŸÑ€Ð¾Ð±Ð»ÐµÐ¼Ð° 2.
	Ð£Ð±Ñ€Ð°Ñ‚ÑŒ Ð¸Ð· create device Ð´Ð¾Ð±Ð°Ð²Ð»ÐµÐ½Ð¸Ðµ primary ip. ÐœÑ‹ ÑÑ‚Ð¾ Ñ€ÐµÐ°Ð»Ð¸Ð·Ð¾Ð²Ð°Ð»Ð¸ Ð¿Ñ€Ð¸ ÑÐ¸Ð½Ñ…Ñ€Ð¾Ð½Ð¸Ð·Ð°Ñ†Ð¸Ð¸ Ð¸Ð½Ñ‚ÐµÑ€Ñ„ÐµÐ¹ÑÐ¾Ð². Ð’ÑÐµ Ñ€Ð°Ð²Ð½Ð¾ Ð¾Ð½ Ð½Ðµ Ð´Ð¾Ð±Ð°Ð²Ð¸Ñ‚ÑÑ Ð² create device Ð¿Ð¾ÐºÐ° Ð½Ðµ ÑÐ¸Ð½Ñ…Ñ€Ð¾Ð½Ð¸Ð·Ð¸Ñ€ÑƒÐµÐ¼ ip. 


ÐŸÑ€Ð¾Ð±Ð»ÐµÐ¼Ð° 3 
    {
        "host": "10.177.30.243",
        "device_type": "C9200L-24P-4X",
        "platform": "cisco_iosxe",
        "role": "Switch",
    },

Enable Ð¿Ð°Ñ€Ð¾Ð»ÑŒ (Enter ÐµÑÐ»Ð¸ Ð½Ðµ Ñ‚Ñ€ÐµÐ±ÑƒÐµÑ‚ÑÑ):
2025-12-22 13:04:45 - INFO - Ð¡Ð±Ð¾Ñ€ inventory (Ð¼Ð¾Ð´ÑƒÐ»Ð¸, SFP, PSU)...
2025-12-22 13:04:45 - WARNING - ÐÐµÑ‚ ÐºÐ¾Ð¼Ð°Ð½Ð´Ñ‹ Ð´Ð»Ñ None
2025-12-22 13:04:45 - INFO - Ð¡Ð¾Ð±Ñ€Ð°Ð½Ð¾ Ð·Ð°Ð¿Ð¸ÑÐµÐ¹: 0 Ñ 1 ÑƒÑÑ‚Ñ€Ð¾Ð¹ÑÑ‚Ð²
Ð”Ð¾ ÑÐ¸Ñ… Ð¿Ð¾Ñ€ Ð½Ðµ ÑƒÐ´Ð°ÐµÑ‚ÑÑ Ñ€Ð°Ð±Ð¾Ñ‚Ð°Ñ‚ÑŒ Ñ ÑƒÑ‚Ñ€Ð¾Ð¹ÑÑ‚Ð²Ð°Ð¼Ð¸ Ð² Ñ„Ð¾Ñ€Ð¼Ð°Ñ‚Ðµ, Ð¿Ð¾Ð´ ÐºÐ¾Ñ‚Ð¾Ñ€Ñ‹Ð¹ Ð¼Ñ‹ Ð¿ÐµÑ€ÐµÐ´ÐµÐ»Ñ‹Ð²Ð°Ð»Ð¸. 
Ð˜ ÐµÑ‰Ðµ Ñ€Ð¾Ð»ÑŒ Ñƒ Ð½Ð°Ñ Ð¿Ð°Ñ€ÑÐ¸Ñ‚ÑÑ Ð´Ð»Ñ netbox?  role

Ð Ð°Ð±Ð¾Ñ‚Ð°ÐµÑ‚ Ñ‚Ð¾Ð»ÑŒÐºÐ¾ Ð² {"host": "10.177.30.51", "device_type": "cisco_iosxe"}









## Ð¡ÐŸÐ ÐÐ’ÐžÐ§ÐÐ˜Ðš ÐšÐžÐœÐÐÐ” CLI

### 1. devices â€” Ð¡Ð±Ð¾Ñ€ Ð¸Ð½Ð²ÐµÐ½Ñ‚Ð°Ñ€Ð¸Ð·Ð°Ñ†Ð¸Ð¸ ÑƒÑÑ‚Ñ€Ð¾Ð¹ÑÑ‚Ð²
```bash
python -m network_collector devices [OPTIONS]
```
| ÐžÐ¿Ñ†Ð¸Ñ | ÐžÐ¿Ð¸ÑÐ°Ð½Ð¸Ðµ | Default |
|-------|----------|---------|
| `--format`, `-f` | Ð¤Ð¾Ñ€Ð¼Ð°Ñ‚ Ð²Ñ‹Ð²Ð¾Ð´Ð° (excel/csv/json) | csv |
| `--delimiter` | Ð Ð°Ð·Ð´ÐµÐ»Ð¸Ñ‚ÐµÐ»ÑŒ Ð´Ð»Ñ CSV | , |
| `--site` | Ð¡Ð°Ð¹Ñ‚ Ð´Ð»Ñ NetBox | Main |
| `--role` | Ð Ð¾Ð»ÑŒ ÑƒÑÑ‚Ñ€Ð¾Ð¹ÑÑ‚Ð²Ð° | Switch |
| `--manufacturer` | ÐŸÑ€Ð¾Ð¸Ð·Ð²Ð¾Ð´Ð¸Ñ‚ÐµÐ»ÑŒ Ð¿Ð¾ ÑƒÐ¼Ð¾Ð»Ñ‡Ð°Ð½Ð¸ÑŽ | Cisco |

### 2. mac â€” Ð¡Ð±Ð¾Ñ€ MAC-Ð°Ð´Ñ€ÐµÑÐ¾Ð²
```bash
python -m network_collector mac [OPTIONS]
```
| ÐžÐ¿Ñ†Ð¸Ñ | ÐžÐ¿Ð¸ÑÐ°Ð½Ð¸Ðµ | Default |
|-------|----------|---------|
| `--format`, `-f` | Ð¤Ð¾Ñ€Ð¼Ð°Ñ‚ Ð²Ñ‹Ð²Ð¾Ð´Ð° (excel/csv/json) | excel |
| `--delimiter` | Ð Ð°Ð·Ð´ÐµÐ»Ð¸Ñ‚ÐµÐ»ÑŒ Ð´Ð»Ñ CSV | , |
| `--mac-format` | Ð¤Ð¾Ñ€Ð¼Ð°Ñ‚ MAC (ieee/cisco/unix) | Ð¸Ð· config |
| `--fields` | ÐŸÐ¾Ð»Ñ Ð´Ð»Ñ Ð²Ñ‹Ð²Ð¾Ð´Ð° (Ñ‡ÐµÑ€ÐµÐ· Ð·Ð°Ð¿ÑÑ‚ÑƒÑŽ) | Ð²ÑÐµ |
| `--with-descriptions` | Ð¡Ð¾Ð±Ð¸Ñ€Ð°Ñ‚ÑŒ Ð¾Ð¿Ð¸ÑÐ°Ð½Ð¸Ñ Ð¸Ð½Ñ‚ÐµÑ€Ñ„ÐµÐ¹ÑÐ¾Ð² | Ð¸Ð· config |
| `--no-descriptions` | ÐÐµ ÑÐ¾Ð±Ð¸Ñ€Ð°Ñ‚ÑŒ Ð¾Ð¿Ð¸ÑÐ°Ð½Ð¸Ñ | - |
| `--include-trunk` | Ð’ÐºÐ»ÑŽÑ‡Ð°Ñ‚ÑŒ trunk Ð¿Ð¾Ñ€Ñ‚Ñ‹ | Ð¸Ð· config |
| `--exclude-trunk` | Ð˜ÑÐºÐ»ÑŽÑ‡Ð°Ñ‚ÑŒ trunk Ð¿Ð¾Ñ€Ñ‚Ñ‹ | - |
| `--match-file` | Excel Ð´Ð»Ñ ÑÐ¾Ð¿Ð¾ÑÑ‚Ð°Ð²Ð»ÐµÐ½Ð¸Ñ MAC Ñ Ñ…Ð¾ÑÑ‚Ð°Ð¼Ð¸ | - |
| `--per-device` | ÐžÑ‚Ð´ÐµÐ»ÑŒÐ½Ñ‹Ð¹ Ñ„Ð°Ð¹Ð» Ð´Ð»Ñ ÐºÐ°Ð¶Ð´Ð¾Ð³Ð¾ ÑƒÑÑ‚Ñ€Ð¾Ð¹ÑÑ‚Ð²Ð° | - |
| `--with-port-security` | Sticky MAC Ð¸Ð· port-security | - |

### 3. lldp â€” Ð¡Ð±Ð¾Ñ€ LLDP/CDP ÑÐ¾ÑÐµÐ´ÐµÐ¹
```bash
python -m network_collector lldp [OPTIONS]
```
| ÐžÐ¿Ñ†Ð¸Ñ | ÐžÐ¿Ð¸ÑÐ°Ð½Ð¸Ðµ | Default |
|-------|----------|---------|
| `--format`, `-f` | Ð¤Ð¾Ñ€Ð¼Ð°Ñ‚ Ð²Ñ‹Ð²Ð¾Ð´Ð° (excel/csv/json) | excel |
| `--delimiter` | Ð Ð°Ð·Ð´ÐµÐ»Ð¸Ñ‚ÐµÐ»ÑŒ Ð´Ð»Ñ CSV | , |
| `--protocol` | ÐŸÑ€Ð¾Ñ‚Ð¾ÐºÐ¾Ð» (lldp/cdp/both) | lldp |
| `--fields` | ÐŸÐ¾Ð»Ñ Ð´Ð»Ñ Ð²Ñ‹Ð²Ð¾Ð´Ð° | Ð²ÑÐµ |

### 4. interfaces â€” Ð¡Ð±Ð¾Ñ€ Ð¸Ð½Ñ„Ð¾Ñ€Ð¼Ð°Ñ†Ð¸Ð¸ Ð¾Ð± Ð¸Ð½Ñ‚ÐµÑ€Ñ„ÐµÐ¹ÑÐ°Ñ…
```bash
python -m network_collector interfaces [OPTIONS]
```
| ÐžÐ¿Ñ†Ð¸Ñ | ÐžÐ¿Ð¸ÑÐ°Ð½Ð¸Ðµ | Default |
|-------|----------|---------|
| `--format`, `-f` | Ð¤Ð¾Ñ€Ð¼Ð°Ñ‚ Ð²Ñ‹Ð²Ð¾Ð´Ð° (excel/csv/json) | excel |
| `--delimiter` | Ð Ð°Ð·Ð´ÐµÐ»Ð¸Ñ‚ÐµÐ»ÑŒ Ð´Ð»Ñ CSV | , |
| `--fields` | ÐŸÐ¾Ð»Ñ Ð´Ð»Ñ Ð²Ñ‹Ð²Ð¾Ð´Ð° | Ð²ÑÐµ |

### 5. inventory â€” Ð¡Ð±Ð¾Ñ€ Ð¸Ð½Ð²ÐµÐ½Ñ‚Ð°Ñ€Ð¸Ð·Ð°Ñ†Ð¸Ð¸ (Ð¼Ð¾Ð´ÑƒÐ»Ð¸, SFP, PSU)
```bash
python -m network_collector inventory [OPTIONS]
```
| ÐžÐ¿Ñ†Ð¸Ñ | ÐžÐ¿Ð¸ÑÐ°Ð½Ð¸Ðµ | Default |
|-------|----------|---------|
| `--format`, `-f` | Ð¤Ð¾Ñ€Ð¼Ð°Ñ‚ Ð²Ñ‹Ð²Ð¾Ð´Ð° (excel/csv/json) | json |
| `--delimiter` | Ð Ð°Ð·Ð´ÐµÐ»Ð¸Ñ‚ÐµÐ»ÑŒ Ð´Ð»Ñ CSV | , |
| `--fields` | ÐŸÐ¾Ð»Ñ Ð´Ð»Ñ Ð²Ñ‹Ð²Ð¾Ð´Ð° | Ð²ÑÐµ |

### 6. run â€” Ð’Ñ‹Ð¿Ð¾Ð»Ð½Ð¸Ñ‚ÑŒ Ð¿Ñ€Ð¾Ð¸Ð·Ð²Ð¾Ð»ÑŒÐ½ÑƒÑŽ ÐºÐ¾Ð¼Ð°Ð½Ð´Ñƒ
```bash
python -m network_collector run "show version" [OPTIONS]
```
| ÐžÐ¿Ñ†Ð¸Ñ | ÐžÐ¿Ð¸ÑÐ°Ð½Ð¸Ðµ | Default |
|-------|----------|---------|
| `cmd` | ÐšÐ¾Ð¼Ð°Ð½Ð´Ð° Ð´Ð»Ñ Ð²Ñ‹Ð¿Ð¾Ð»Ð½ÐµÐ½Ð¸Ñ | Ð¾Ð±ÑÐ·Ð°Ñ‚ÐµÐ»ÑŒÐ½Ñ‹Ð¹ |
| `--platform` | ÐŸÐ»Ð°Ñ‚Ñ„Ð¾Ñ€Ð¼Ð° Ð´Ð»Ñ NTC Templates | Ð°Ð²Ñ‚Ð¾ |
| `--format`, `-f` | Ð¤Ð¾Ñ€Ð¼Ð°Ñ‚ Ð²Ñ‹Ð²Ð¾Ð´Ð° (excel/csv/json/raw) | json |
| `--fields` | ÐŸÐ¾Ð»Ñ Ð´Ð»Ñ Ð¸Ð·Ð²Ð»ÐµÑ‡ÐµÐ½Ð¸Ñ Ð¸Ð· NTC | Ð²ÑÐµ |

### 7. match-mac â€” Ð¡Ð¾Ð¿Ð¾ÑÑ‚Ð°Ð²Ð»ÐµÐ½Ð¸Ðµ MAC Ñ Ñ…Ð¾ÑÑ‚Ð°Ð¼Ð¸
```bash
python -m network_collector match-mac --mac-file mac.xlsx --hosts-file glpi.xlsx [OPTIONS]
```
| ÐžÐ¿Ñ†Ð¸Ñ | ÐžÐ¿Ð¸ÑÐ°Ð½Ð¸Ðµ | Default |
|-------|----------|---------|
| `--mac-file` | Excel Ñ MAC-Ð°Ð´Ñ€ÐµÑÐ°Ð¼Ð¸ | Ð¾Ð±ÑÐ·Ð°Ñ‚ÐµÐ»ÑŒÐ½Ñ‹Ð¹ |
| `--hosts-file` | Excel ÑÐ¾ ÑÐ¿Ñ€Ð°Ð²Ð¾Ñ‡Ð½Ð¸ÐºÐ¾Ð¼ Ñ…Ð¾ÑÑ‚Ð¾Ð² | Ð¾Ð±ÑÐ·Ð°Ñ‚ÐµÐ»ÑŒÐ½Ñ‹Ð¹ |
| `--hosts-folder` | ÐŸÐ°Ð¿ÐºÐ° Ñ Ð½ÐµÑÐºÐ¾Ð»ÑŒÐºÐ¸Ð¼Ð¸ ÑÐ¿Ñ€Ð°Ð²Ð¾Ñ‡Ð½Ð¸ÐºÐ°Ð¼Ð¸ | - |
| `--mac-column` | ÐšÐ¾Ð»Ð¾Ð½ÐºÐ° Ñ MAC Ð² ÑÐ¿Ñ€Ð°Ð²Ð¾Ñ‡Ð½Ð¸ÐºÐµ | MAC |
| `--name-column` | ÐšÐ¾Ð»Ð¾Ð½ÐºÐ° Ñ Ð¸Ð¼ÐµÐ½ÐµÐ¼ Ñ…Ð¾ÑÑ‚Ð° | Name |
| `--output`, `-o` | Ð¤Ð°Ð¹Ð» Ñ€ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚Ð¾Ð² | matched_data.xlsx |

### 8. push-descriptions â€” ÐŸÑ€Ð¸Ð¼ÐµÐ½ÐµÐ½Ð¸Ðµ Ð¾Ð¿Ð¸ÑÐ°Ð½Ð¸Ð¹ Ð¿Ð¾Ñ€Ñ‚Ð¾Ð²
```bash
python -m network_collector push-descriptions --matched-file matched.xlsx [OPTIONS]
```
| ÐžÐ¿Ñ†Ð¸Ñ | ÐžÐ¿Ð¸ÑÐ°Ð½Ð¸Ðµ | Default |
|-------|----------|---------|
| `--matched-file` | Excel Ñ ÑÐ¾Ð¿Ð¾ÑÑ‚Ð°Ð²Ð»ÐµÐ½Ð¸ÑÐ¼Ð¸ | Ð¾Ð±ÑÐ·Ð°Ñ‚ÐµÐ»ÑŒÐ½Ñ‹Ð¹ |
| `--only-empty` | Ð¢Ð¾Ð»ÑŒÐºÐ¾ Ð¿Ð¾Ñ€Ñ‚Ñ‹ Ð±ÐµÐ· Ð¾Ð¿Ð¸ÑÐ°Ð½Ð¸Ñ | - |
| `--overwrite` | ÐŸÐµÑ€ÐµÐ·Ð°Ð¿Ð¸ÑÑ‹Ð²Ð°Ñ‚ÑŒ ÑÑƒÑ‰ÐµÑÑ‚Ð²ÑƒÑŽÑ‰Ð¸Ðµ | - |
| `--dry-run` | Ð ÐµÐ¶Ð¸Ð¼ ÑÐ¸Ð¼ÑƒÐ»ÑÑ†Ð¸Ð¸ | True |
| `--apply` | ÐŸÑ€Ð¸Ð¼ÐµÐ½Ð¸Ñ‚ÑŒ Ð¸Ð·Ð¼ÐµÐ½ÐµÐ½Ð¸Ñ | - |

### 9. sync-netbox â€” Ð¡Ð¸Ð½Ñ…Ñ€Ð¾Ð½Ð¸Ð·Ð°Ñ†Ð¸Ñ Ñ NetBox
```bash
python -m network_collector sync-netbox [OPTIONS]
```
| ÐžÐ¿Ñ†Ð¸Ñ | ÐžÐ¿Ð¸ÑÐ°Ð½Ð¸Ðµ | Default |
|-------|----------|---------|
| `--url` | URL NetBox (Ð¸Ð»Ð¸ env NETBOX_URL) | env |
| `--token` | API Ñ‚Ð¾ÐºÐµÐ½ (Ð¸Ð»Ð¸ env NETBOX_TOKEN) | env |
| `--sync-all` | ÐŸÐ¾Ð»Ð½Ð°Ñ ÑÐ¸Ð½Ñ…Ñ€Ð¾Ð½Ð¸Ð·Ð°Ñ†Ð¸Ñ | - |
| `--create-devices` | Ð¡Ð¾Ð·Ð´Ð°Ñ‚ÑŒ ÑƒÑÑ‚Ñ€Ð¾Ð¹ÑÑ‚Ð²Ð° | - |
| `--update-devices` | ÐžÐ±Ð½Ð¾Ð²Ð»ÑÑ‚ÑŒ ÑƒÑÑ‚Ñ€Ð¾Ð¹ÑÑ‚Ð²Ð° (serial, model) | - |
| `--interfaces` | Ð¡Ð¸Ð½Ñ…Ñ€Ð¾Ð½Ð¸Ð·Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ Ð¸Ð½Ñ‚ÐµÑ€Ñ„ÐµÐ¹ÑÑ‹ | - |
| `--ip-addresses` | Ð¡Ð¸Ð½Ñ…Ñ€Ð¾Ð½Ð¸Ð·Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ IP-Ð°Ð´Ñ€ÐµÑÐ° | - |
| `--vlans` | Ð¡Ð¸Ð½Ñ…Ñ€Ð¾Ð½Ð¸Ð·Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ VLAN | - |
| `--cables` | Ð¡Ð¾Ð·Ð´Ð°Ñ‚ÑŒ ÐºÐ°Ð±ÐµÐ»Ð¸ Ð¸Ð· LLDP/CDP | - |
| `--inventory` | Ð¡Ð¸Ð½Ñ…Ñ€Ð¾Ð½Ð¸Ð·Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ inventory | - |
| `--protocol` | ÐŸÑ€Ð¾Ñ‚Ð¾ÐºÐ¾Ð» Ð´Ð»Ñ ÑÐ¾ÑÐµÐ´ÐµÐ¹ (lldp/cdp/both) | both |
| `--site` | Ð¡Ð°Ð¹Ñ‚ Ð´Ð»Ñ ÑƒÑÑ‚Ñ€Ð¾Ð¹ÑÑ‚Ð² | Ð¸Ð· config |
| `--role` | Ð Ð¾Ð»ÑŒ Ð´Ð»Ñ ÑƒÑÑ‚Ñ€Ð¾Ð¹ÑÑ‚Ð² | Ð¸Ð· config |
| `--tenant` | ÐÑ€ÐµÐ½Ð´Ð°Ñ‚Ð¾Ñ€ (Ð´Ð»Ñ --cleanup) | - |
| `--cleanup` | Ð£Ð´Ð°Ð»ÑÑ‚ÑŒ Ð»Ð¸ÑˆÐ½Ð¸Ðµ ÑƒÑÑ‚Ñ€Ð¾Ð¹ÑÑ‚Ð²Ð° | - |
| `--dry-run` | Ð ÐµÐ¶Ð¸Ð¼ ÑÐ¸Ð¼ÑƒÐ»ÑÑ†Ð¸Ð¸ | - |
| `--create-only` | Ð¢Ð¾Ð»ÑŒÐºÐ¾ ÑÐ¾Ð·Ð´Ð°Ð²Ð°Ñ‚ÑŒ Ð½Ð¾Ð²Ñ‹Ðµ | - |
| `--skip-unknown` | ÐŸÑ€Ð¾Ð¿ÑƒÑÐºÐ°Ñ‚ÑŒ ÑÐ¾ÑÐµÐ´ÐµÐ¹ Ð±ÐµÐ· hostname | True |

### 10. backup â€” Ð ÐµÐ·ÐµÑ€Ð²Ð½Ð¾Ðµ ÐºÐ¾Ð¿Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ ÐºÐ¾Ð½Ñ„Ð¸Ð³ÑƒÑ€Ð°Ñ†Ð¸Ð¹
```bash
python -m network_collector backup [OPTIONS]
```
| ÐžÐ¿Ñ†Ð¸Ñ | ÐžÐ¿Ð¸ÑÐ°Ð½Ð¸Ðµ | Default |
|-------|----------|---------|
| `--output`, `-o` | ÐŸÐ°Ð¿ÐºÐ° Ð´Ð»Ñ ÐºÐ¾Ð½Ñ„Ð¸Ð³ÑƒÑ€Ð°Ñ†Ð¸Ð¹ | backups |

---

## ÐšÐžÐœÐÐÐ”Ð« Ð£Ð¡Ð¢Ð ÐžÐ™Ð¡Ð¢Ð’ (show commands)

ÐšÐ¾Ð¼Ð°Ð½Ð´Ñ‹, Ð²Ñ‹Ð¿Ð¾Ð»Ð½ÑÐµÐ¼Ñ‹Ðµ Ð½Ð° ÑÐµÑ‚ÐµÐ²Ð¾Ð¼ Ð¾Ð±Ð¾Ñ€ÑƒÐ´Ð¾Ð²Ð°Ð½Ð¸Ð¸ Ð´Ð»Ñ ÑÐ±Ð¾Ñ€Ð° Ð´Ð°Ð½Ð½Ñ‹Ñ….

### devices (Ð¸Ð½Ð²ÐµÐ½Ñ‚Ð°Ñ€Ð¸Ð·Ð°Ñ†Ð¸Ñ)
| ÐŸÐ»Ð°Ñ‚Ñ„Ð¾Ñ€Ð¼Ð° | ÐšÐ¾Ð¼Ð°Ð½Ð´Ð° |
|-----------|---------|
| cisco_ios / cisco_iosxe / cisco_nxos | `show version` |
| arista_eos | `show version` |
| juniper_junos | `show version` |

### mac (MAC-Ð°Ð´Ñ€ÐµÑÐ°)
| ÐŸÐ»Ð°Ñ‚Ñ„Ð¾Ñ€Ð¼Ð° | ÐšÐ¾Ð¼Ð°Ð½Ð´Ð° |
|-----------|---------|
| cisco_ios / cisco_iosxe / cisco_nxos | `show mac address-table` |
| arista_eos | `show mac address-table` |
| juniper_junos | `show ethernet-switching table` |
| qtech / qtech_qsw | `show mac address-table` |

### lldp (ÑÐ¾ÑÐµÐ´Ð¸ LLDP)
| ÐŸÐ»Ð°Ñ‚Ñ„Ð¾Ñ€Ð¼Ð° | ÐšÐ¾Ð¼Ð°Ð½Ð´Ð° |
|-----------|---------|
| cisco_ios / cisco_iosxe / cisco_nxos | `show lldp neighbors detail` |
| arista_eos | `show lldp neighbors detail` |
| juniper_junos | `show lldp neighbors` |

### lldp --protocol cdp (ÑÐ¾ÑÐµÐ´Ð¸ CDP)
| ÐŸÐ»Ð°Ñ‚Ñ„Ð¾Ñ€Ð¼Ð° | ÐšÐ¾Ð¼Ð°Ð½Ð´Ð° |
|-----------|---------|
| cisco_ios / cisco_iosxe / cisco_nxos | `show cdp neighbors detail` |

### interfaces (Ð¸Ð½Ñ‚ÐµÑ€Ñ„ÐµÐ¹ÑÑ‹)
| ÐŸÐ»Ð°Ñ‚Ñ„Ð¾Ñ€Ð¼Ð° | ÐšÐ¾Ð¼Ð°Ð½Ð´Ð° |
|-----------|---------|
| cisco_ios / cisco_iosxe | `show interfaces` |
| cisco_nxos | `show interface` |
| arista_eos | `show interfaces` |
| juniper_junos | `show interfaces extensive` |

### interfaces (Ð´Ð¾Ð¿Ð¾Ð»Ð½Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ñ‹Ðµ ÐºÐ¾Ð¼Ð°Ð½Ð´Ñ‹)
| Ð”Ð°Ð½Ð½Ñ‹Ðµ | ÐŸÐ»Ð°Ñ‚Ñ„Ð¾Ñ€Ð¼Ð° | ÐšÐ¾Ð¼Ð°Ð½Ð´Ð° |
|--------|-----------|---------|
| LAG membership | cisco_ios / cisco_iosxe | `show etherchannel summary` |
| LAG membership | cisco_nxos / arista_eos | `show port-channel summary` |
| Switchport mode | cisco_ios / cisco_iosxe | `show interfaces switchport` |
| Switchport mode | cisco_nxos | `show interface switchport` |
| Switchport mode | arista_eos | `show interfaces switchport` |

### inventory (Ð¼Ð¾Ð´ÑƒÐ»Ð¸, SFP, PSU)
| ÐŸÐ»Ð°Ñ‚Ñ„Ð¾Ñ€Ð¼Ð° | ÐšÐ¾Ð¼Ð°Ð½Ð´Ð° |
|-----------|---------|
| cisco_ios / cisco_iosxe / cisco_nxos | `show inventory` |
| arista_eos | `show inventory` |

### backup (ÐºÐ¾Ð½Ñ„Ð¸Ð³ÑƒÑ€Ð°Ñ†Ð¸Ð¸)
| ÐŸÐ»Ð°Ñ‚Ñ„Ð¾Ñ€Ð¼Ð° | ÐšÐ¾Ð¼Ð°Ð½Ð´Ð° |
|-----------|---------|
| cisco_ios / cisco_iosxe / cisco_nxos / cisco_iosxr | `show running-config` |
| arista_eos | `show running-config` |
| juniper_junos | `show configuration \| display set` |
| qtech / qtech_qsw | `show running-config` |

---

### Ð¡Ð²Ð¾Ð´Ð½Ð°Ñ Ñ‚Ð°Ð±Ð»Ð¸Ñ†Ð° Ð²ÑÐµÑ… ÐºÐ¾Ð¼Ð°Ð½Ð´ Ð´Ð»Ñ Cisco IOS/IOS-XE

```
# Ð˜Ð½Ð²ÐµÐ½Ñ‚Ð°Ñ€Ð¸Ð·Ð°Ñ†Ð¸Ñ ÑƒÑÑ‚Ñ€Ð¾Ð¹ÑÑ‚Ð²Ð°
show version

# MAC-Ð°Ð´Ñ€ÐµÑÐ°
show mac address-table

# Ð¡Ð¾ÑÐµÐ´Ð¸
show lldp neighbors detail
show cdp neighbors detail

# Ð˜Ð½Ñ‚ÐµÑ€Ñ„ÐµÐ¹ÑÑ‹
show interfaces
show interfaces switchport
show etherchannel summary

# ÐœÐ¾Ð´ÑƒÐ»Ð¸ Ð¸ Ñ‚Ñ€Ð°Ð½ÑÐ¸Ð²ÐµÑ€Ñ‹
show inventory

# ÐšÐ¾Ð½Ñ„Ð¸Ð³ÑƒÑ€Ð°Ñ†Ð¸Ñ
show running-config
```

---

8. Ð¢Ð•Ð¡Ð¢Ð˜Ð ÐžÐ’ÐÐÐ˜Ð• Ð£Ð¢Ð˜Ð›Ð˜Ð¢Ð«

ÐŸÐ¾ÐºÑ€Ñ‹Ñ‚ÑŒ Ñ‚ÐµÑÑ‚Ð°Ð¼Ð¸ Ð¿Ð°Ñ€ÑÐµÑ€Ñ‹, ÐºÐ¾Ð»Ð»ÐµÐºÑ‚Ð¾Ñ€Ñ‹, Ð½Ð¾Ñ€Ð¼Ð°Ð»Ð¸Ð·Ð°Ñ†Ð¸ÑŽ Ð´Ð°Ð½Ð½Ñ‹Ñ… Ð´Ð»Ñ Ð¾Ð±ÐµÑÐ¿ÐµÑ‡ÐµÐ½Ð¸Ñ ÑÑ‚Ð°Ð±Ð¸Ð»ÑŒÐ½Ð¾ÑÑ‚Ð¸ Ð¿Ñ€Ð¸ Ð´Ð¾Ð±Ð°Ð²Ð»ÐµÐ½Ð¸Ð¸ Ð½Ð¾Ð²Ñ‹Ñ… Ð²ÐµÐ½Ð´Ð¾Ñ€Ð¾Ð²/ÑƒÑÑ‚Ñ€Ð¾Ð¹ÑÑ‚Ð².

### Ð¡Ñ‚Ñ€ÑƒÐºÑ‚ÑƒÑ€Ð° Ñ‚ÐµÑÑ‚Ð¾Ð²

```
tests/
â”œâ”€â”€ fixtures/                    # Ð ÐµÐ°Ð»ÑŒÐ½Ñ‹Ðµ Ð²Ñ‹Ð²Ð¾Ð´Ñ‹ ÐºÐ¾Ð¼Ð°Ð½Ð´ Ñ ÑƒÑÑ‚Ñ€Ð¾Ð¹ÑÑ‚Ð²
â”‚   â”œâ”€â”€ cisco_ios/
â”‚   â”‚   â”œâ”€â”€ show_interfaces.txt
â”‚   â”‚   â”œâ”€â”€ show_mac_address_table.txt
â”‚   â”‚   â”œâ”€â”€ show_lldp_neighbors_detail.txt
â”‚   â”‚   â”œâ”€â”€ show_cdp_neighbors_detail.txt
â”‚   â”‚   â”œâ”€â”€ show_interfaces_switchport.txt
â”‚   â”‚   â””â”€â”€ show_etherchannel_summary.txt
â”‚   â”œâ”€â”€ cisco_nxos/
â”‚   â”œâ”€â”€ arista_eos/
â”‚   â”œâ”€â”€ juniper_junos/
â”‚   â””â”€â”€ qtech/
â”‚
â”œâ”€â”€ test_parsers/                # Ð¢ÐµÑÑ‚Ñ‹ Ð¿Ð°Ñ€ÑÐ¸Ð½Ð³Ð° Ð²Ñ‹Ð²Ð¾Ð´Ð¾Ð²
â”‚   â”œâ”€â”€ test_interfaces.py       # show interfaces
â”‚   â”œâ”€â”€ test_mac.py              # show mac address-table
â”‚   â”œâ”€â”€ test_lldp.py             # show lldp/cdp neighbors
â”‚   â”œâ”€â”€ test_switchport.py       # show interfaces switchport
â”‚   â””â”€â”€ test_lag.py              # show etherchannel summary
â”‚
â”œâ”€â”€ test_collectors/             # Ð¢ÐµÑÑ‚Ñ‹ Ð½Ð¾Ñ€Ð¼Ð°Ð»Ð¸Ð·Ð°Ñ†Ð¸Ð¸ Ð¸ Ð»Ð¾Ð³Ð¸ÐºÐ¸
â”‚   â”œâ”€â”€ test_normalize.py        # Ð•Ð´Ð¸Ð½Ð¾Ð¾Ð±Ñ€Ð°Ð·Ð¸Ðµ Ð²Ñ‹Ð²Ð¾Ð´Ð° Ð²ÑÐµÑ… Ð¿Ð»Ð°Ñ‚Ñ„Ð¾Ñ€Ð¼
â”‚   â”œâ”€â”€ test_merge_lldp_cdp.py   # ÐžÐ±ÑŠÐµÐ´Ð¸Ð½ÐµÐ½Ð¸Ðµ LLDP + CDP
â”‚   â””â”€â”€ test_switchport_mode.py  # tagged vs tagged-all
â”‚
â”œâ”€â”€ test_netbox/                 # Ð¢ÐµÑÑ‚Ñ‹ ÑÐ¸Ð½Ñ…Ñ€Ð¾Ð½Ð¸Ð·Ð°Ñ†Ð¸Ð¸ (Ñ mock API)
â”‚   â”œâ”€â”€ test_sync_interfaces.py
â”‚   â”œâ”€â”€ test_sync_cables.py
â”‚   â””â”€â”€ test_find_neighbor.py
â”‚
â””â”€â”€ conftest.py                  # ÐžÐ±Ñ‰Ð¸Ðµ fixtures, MockDevice
```

### ÐŸÑ€Ð¸Ð¾Ñ€Ð¸Ñ‚ÐµÑ‚Ñ‹ Ñ‚ÐµÑÑ‚Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ñ

| ÐŸÑ€Ð¸Ð¾Ñ€Ð¸Ñ‚ÐµÑ‚ | ÐœÐ¾Ð´ÑƒÐ»ÑŒ | Ð§Ñ‚Ð¾ Ñ‚ÐµÑÑ‚Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ |
|-----------|--------|-----------------|
| ðŸ”´ Ð’Ñ‹ÑÐ¾ÐºÐ¸Ð¹ | parsers | ÐŸÐ°Ñ€ÑÐ¸Ð½Ð³ Ð²Ñ‹Ð²Ð¾Ð´Ð¾Ð² (regex + NTC fallback) |
| ðŸ”´ Ð’Ñ‹ÑÐ¾ÐºÐ¸Ð¹ | normalize | Ð•Ð´Ð¸Ð½Ð¾Ð¾Ð±Ñ€Ð°Ð·Ð¸Ðµ Ð¿Ð¾Ð»ÐµÐ¹ Ð´Ð»Ñ Ð²ÑÐµÑ… Ð¿Ð»Ð°Ñ‚Ñ„Ð¾Ñ€Ð¼ |
| ðŸ”´ Ð’Ñ‹ÑÐ¾ÐºÐ¸Ð¹ | switchport | tagged vs tagged-all Ð»Ð¾Ð³Ð¸ÐºÐ° |
| ðŸŸ¡ Ð¡Ñ€ÐµÐ´Ð½Ð¸Ð¹ | lldp merge | ÐžÐ±ÑŠÐµÐ´Ð¸Ð½ÐµÐ½Ð¸Ðµ LLDP + CDP Ð´Ð°Ð½Ð½Ñ‹Ñ… |
| ðŸŸ¡ Ð¡Ñ€ÐµÐ´Ð½Ð¸Ð¹ | lag | LAG membership Ð¿Ð°Ñ€ÑÐ¸Ð½Ð³ |
| ðŸŸ¢ ÐÐ¸Ð·ÐºÐ¸Ð¹ | netbox sync | Ð¢Ñ€ÐµÐ±ÑƒÐµÑ‚ mock pynetbox API |

### ÐžÐ±ÑÐ·Ð°Ñ‚ÐµÐ»ÑŒÐ½Ñ‹Ðµ Ð¿Ð¾Ð»Ñ Ð´Ð»Ñ Ð¿Ñ€Ð¾Ð²ÐµÑ€ÐºÐ¸ ÐµÐ´Ð¸Ð½Ð¾Ð¾Ð±Ñ€Ð°Ð·Ð¸Ñ

```python
REQUIRED_FIELDS = {
    "interfaces": ["interface", "status", "mac", "description", "mode"],
    "mac": ["mac", "vlan", "interface", "type"],
    "lldp": ["local_interface", "remote_hostname", "remote_port", "neighbor_type"],
    "inventory": ["name", "part_id", "serial", "description"],
}
```

### ÐŸÑ€Ð¸Ð¼ÐµÑ€Ñ‹ Ñ‚ÐµÑÑ‚Ð¾Ð²

1. ÐŸÐ°Ñ€ÑÐ¸Ð½Ð³ Ð¸Ð½Ñ‚ÐµÑ€Ñ„ÐµÐ¹ÑÐ¾Ð²:
   - Ð’ÑÐµ Ð¿Ð»Ð°Ñ‚Ñ„Ð¾Ñ€Ð¼Ñ‹ Ð²Ð¾Ð·Ð²Ñ€Ð°Ñ‰Ð°ÑŽÑ‚ Ð¾Ð±ÑÐ·Ð°Ñ‚ÐµÐ»ÑŒÐ½Ñ‹Ðµ Ð¿Ð¾Ð»Ñ
   - Ð¡Ñ‚Ð°Ñ‚ÑƒÑÑ‹ Ð½Ð¾Ñ€Ð¼Ð°Ð»Ð¸Ð·ÑƒÑŽÑ‚ÑÑ (up/down/disabled/error)
   - MAC-Ð°Ð´Ñ€ÐµÑÐ° Ð² ÐµÐ´Ð¸Ð½Ð¾Ð¼ Ñ„Ð¾Ñ€Ð¼Ð°Ñ‚Ðµ

2. Switchport mode:
   - trunk + "Trunking VLANs: ALL" â†’ tagged-all
   - trunk + "Trunking VLANs: 10,20,30" â†’ tagged
   - access â†’ access

3. LLDP/CDP merge:
   - LLDP Ð´Ð°Ñ‘Ñ‚ MAC (chassis_id)
   - CDP Ð´Ð°Ñ‘Ñ‚ hostname ÐµÑÐ»Ð¸ LLDP Ð½Ðµ Ð´Ð°Ð» system_name
   - Ð¡Ð¾ÑÐµÐ´Ð¸ ÑÐ¾Ð¿Ð¾ÑÑ‚Ð°Ð²Ð»ÑÑŽÑ‚ÑÑ Ð¿Ð¾ local_interface

4. Ð•Ð´Ð¸Ð½Ð¾Ð¾Ð±Ñ€Ð°Ð·Ð¸Ðµ Ð²Ñ‹Ð²Ð¾Ð´Ð°:
   - Ð’ÑÐµ Ð¿Ð»Ð°Ñ‚Ñ„Ð¾Ñ€Ð¼Ñ‹ Ð´Ð°ÑŽÑ‚ Ð¾Ð´Ð¸Ð½Ð°ÐºÐ¾Ð²ÑƒÑŽ ÑÑ‚Ñ€ÑƒÐºÑ‚ÑƒÑ€Ñƒ
   - ÐÐ¾Ð²Ñ‹Ð¹ Ð²ÐµÐ½Ð´Ð¾Ñ€ Ð´Ð¾Ð»Ð¶ÐµÐ½ Ð¿Ñ€Ð¾Ð¹Ñ‚Ð¸ Ð²ÑÐµ Ñ‚ÐµÑÑ‚Ñ‹

### ÐšÐ°Ðº Ð´Ð¾Ð±Ð°Ð²Ð»ÑÑ‚ÑŒ Ð½Ð¾Ð²Ñ‹Ð¹ Ð²ÐµÐ½Ð´Ð¾Ñ€

1. Ð¡Ð¾Ð±Ñ€Ð°Ñ‚ÑŒ Ñ€ÐµÐ°Ð»ÑŒÐ½Ñ‹Ðµ Ð²Ñ‹Ð²Ð¾Ð´Ñ‹ ÐºÐ¾Ð¼Ð°Ð½Ð´ â†’ tests/fixtures/new_vendor/
2. Ð”Ð¾Ð±Ð°Ð²Ð¸Ñ‚ÑŒ Ð¿Ð»Ð°Ñ‚Ñ„Ð¾Ñ€Ð¼Ñƒ Ð² Ð¿Ð°Ñ€Ð°Ð¼ÐµÑ‚Ñ€Ð¸Ð·Ð¾Ð²Ð°Ð½Ð½Ñ‹Ðµ Ñ‚ÐµÑÑ‚Ñ‹
3. Ð—Ð°Ð¿ÑƒÑÑ‚Ð¸Ñ‚ÑŒ Ñ‚ÐµÑÑ‚Ñ‹ â€” ÑƒÐ²Ð¸Ð´ÐµÑ‚ÑŒ Ñ‡Ñ‚Ð¾ Ð¿Ð°Ð´Ð°ÐµÑ‚
4. Ð”Ð¾Ð±Ð°Ð²Ð¸Ñ‚ÑŒ Ð¿Ð°Ñ€ÑÐ¸Ð½Ð³/Ð¼Ð°Ð¿Ð¿Ð¸Ð½Ð³ Ð² ÐºÐ¾Ð´
5. Ð’ÑÐµ Ñ‚ÐµÑÑ‚Ñ‹ Ð´Ð¾Ð»Ð¶Ð½Ñ‹ Ð¿Ñ€Ð¾Ð¹Ñ‚Ð¸

### Ð—Ð°Ð¿ÑƒÑÐº Ñ‚ÐµÑÑ‚Ð¾Ð²

```bash
# Ð£ÑÑ‚Ð°Ð½Ð¾Ð²ÐºÐ° pytest
pip install pytest pytest-cov

# Ð’ÑÐµ Ñ‚ÐµÑÑ‚Ñ‹
pytest tests/ -v

# Ð¢Ð¾Ð»ÑŒÐºÐ¾ Ð¿Ð°Ñ€ÑÐµÑ€Ñ‹
pytest tests/test_parsers/ -v

# Ð¡ coverage Ð¾Ñ‚Ñ‡Ñ‘Ñ‚Ð¾Ð¼
pytest tests/ --cov=network_collector --cov-report=html

# ÐšÐ¾Ð½ÐºÑ€ÐµÑ‚Ð½Ñ‹Ð¹ Ñ‚ÐµÑÑ‚
pytest tests/test_parsers/test_switchport.py -v
```

### Ð—Ð°Ð²Ð¸ÑÐ¸Ð¼Ð¾ÑÑ‚Ð¸ Ð´Ð»Ñ Ñ‚ÐµÑÑ‚Ð¾Ð²

```
# requirements-dev.txt
pytest>=7.0
pytest-cov>=4.0
pytest-mock>=3.0
```
