Сбор таблицы мак адресов работает корретно, но снова так же попадают unknown в таблицу, почему непонятно, уже парсинг поменяли, делал timeout по 100 -200 секунд. Все равно пару строк да попадет. Причем в разные форматы вывода, будто где то программа что то некорректно формирует, складывает.



(venv) C:\Users\Rozhkov_E\Desktop\p>python -m network_collector push-descriptions --matched-file reports/matched.xlsx --dry-run    
2025-12-16 11:59:59 - INFO - Загрузка данных из reports/matched.xlsx...
2025-12-16 11:59:59 - WARNING - Нет команд для применения




В таблице с current description есть пустые строки , ключ перезаписать не ставил, может pandas  считается, что строки не пустные, там dah . что от такое.

--only-empty ставлю этот ключ, пишет что нет команд для применения.



Делаю overwrite он пробует применить, но проблема в том, что когда  netmiko пробует разлить push description на ios , в device type стоит  iosxe. Может сделать какой маппинг, чтобы для netmiko был только cisco_ios, iosxe он не понимает. Или какие есть варианты лучше? И распиши все ключи в  readme  , как  работать в push description.
Маппинг есть похожий для шаблонов ntc. Смысл такой же. Или нетмико есть чем заменить? Так же scrapli? Или как лучше? А если одинаковые опиисания текущие из gpli , надо бы пропустить. И еще непонятно, конфиг сохраняется wr делается автоматически?в netmiko это заложено?





2. 
FastEthernet0 is down, line protocol is down 
  Hardware is PowerPC FastEthernet, address is 0cd9.9684.db39 (bia 0cd9.9684.db39)
  MTU 1500 bytes, BW 100000 Kbit/sec, DLY 100 usec, 
     reliability 255/255, txload 1/255, rxload 1/255
  Encapsulation ARPA, loopback not set
  Keepalive not set
  Auto-duplex, Auto Speed, MII
  ARP type: ARPA, ARP Timeout 04:00:00
  Last input never, output never, output hang never
  Last clearing of "show interface" counters never
  Input queue: 0/75/0/0 (size/max/drops/flushes); Total output drops: 0
  Queueing strategy: fifo
  Output queue: 0/0 (size/max)
  5 minute input rate 0 bits/sec, 0 packets/sec
  5 minute output rate 0 bits/sec, 0 packets/sec
     0 packets input, 0 bytes
     Received 0 broadcasts (0 IP multicasts)
     0 runts, 0 giants, 0 throttles 
     0 input errors, 0 CRC, 0 frame, 0 overrun, 0 ignored
     0 watchdog
     0 input packets with dribble condition detected
     0 packets output, 0 bytes, 0 underruns
     0 output errors, 0 collisions, 1 interface resets
     0 unknown protocol drops
     0 babbles, 0 late collision, 0 deferred
     0 lost carrier, 0 no carrier
     0 output buffer failures, 0 output buffers swapped out


Попал в  нетбокс как гигабитный, это вообще mgmt. Как я понял, Hardware is PowerPC FastEthernet. 
3. Как исключить vlan1 из синхронизации?
4. Синхронизируется portchanell из двух гигабитных интерфейсов, тип у него установился как  2.5 GE , что неправильно, надо такие создавать с типом lag и в него добавлять интерфейсы, есть шаблон show etherchannel summary, на ns os , там  show portchannel summary , но нет шаблона в  ntc. Хотя вывод почти как у 9200

Вот вывод 9200
Group  Port-channel  Protocol    Ports
------+-------------+-----------+-----------------------------------------------
1      Po1(SU)         LACP      Gi1/0/49(P) Gi1/0/50(P)



Вот nx Group Port-       Type     Protocol  Member Ports
      Channel
--------------------------------------------------------------------------------
1     Po1(SU)     Eth      LACP      Eth1/43(P)   
2     Po2(SU)     Eth      LACP      Eth1/44(P)   
10    Po10(SU)    Eth      LACP      Eth1/49(P)   Eth1/50(P)   
11    Po11(SD)    Eth      LACP      Eth1/1(D)    
12    Po12(SU)    Eth      LACP      Eth1/2(P)    
13    Po13(SU)    Eth      LACP      Eth1/3(P)    
14    Po14(SU)    Eth      LACP      Eth1/4(P)    
15    Po15(SU)    Eth      LACP      Eth1/5(P)    
16    Po16(SU)    Eth      LACP      Eth1/6(P)    
42    Po42(SU)    Eth      LACP      Eth1/42(P)   
50    Po50(SU)    Eth      LACP      Eth1/45(P)   Eth1/46(D)   
100   Po100(RU)   Eth      LACP      Eth1/47(D)   Eth1/48(P)  


Не знаю есть ли смысл под него отдельный шаблон делать, или подойдет шаблон из ntc, но лучше может отдельный, так как он будет парсить автоматически по  nx os а там такого нету.Как здесь лучше и проще можно сделать.

Так же необходимо создавать кабели через Po , то есть соседство, если такие есть. 
Надо это реализовать как то. Какие есть варианты у нас? Лишь бы все не поломалось и все было качественно и аккуратно. 

Скорость не добавляется, ее прям в килобайтах можно добавить в Portchannel для видимотси. И так же есть поля в field по режиму 802.1Q , они не добавляются сейчас.


Маки не добавляются при синхронизации интерфейсов, почему?
